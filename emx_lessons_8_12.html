<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMx Framework - Lessons 8-12</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            overflow-x: hidden;
        }
        
        #app {
            display: flex;
            height: 100vh;
        }
        
        #sidebar {
            width: 280px;
            background: rgba(20, 20, 40, 0.95);
            padding: 20px;
            overflow-y: auto;
            border-right: 2px solid #00d4ff;
        }
        
        #main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        h1 {
            color: #00d4ff;
            font-size: 28px;
            margin-bottom: 20px;
        }
        
        h2 {
            color: #00ff88;
            font-size: 22px;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #00ff88;
            padding-bottom: 8px;
        }
        
        h3 {
            color: #ffd700;
            font-size: 18px;
            margin: 20px 0 10px 0;
        }
        
        .lesson-btn {
            background: linear-gradient(135deg, #1e3a5f 0%, #2a5298 100%);
            color: #e0e0e0;
            padding: 12px 15px;
            margin: 8px 0;
            border: 1px solid #00d4ff;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            font-size: 14px;
            text-align: left;
            transition: all 0.3s;
        }
        
        .lesson-btn:hover {
            background: linear-gradient(135deg, #2a5298 0%, #3a62a8 100%);
            transform: translateX(5px);
        }
        
        .lesson-btn.active {
            background: linear-gradient(135deg, #00d4ff 0%, #00a8cc 100%);
            color: #0a0a0a;
            font-weight: bold;
        }
        
        .info-box {
            background: rgba(0, 212, 255, 0.1);
            border-left: 4px solid #00d4ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .success-box {
            background: rgba(0, 255, 136, 0.1);
            border-left: 4px solid #00ff88;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background: #0a0a0a;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #333;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
            color: #00ff88;
            white-space: pre;
        }
        
        .formula {
            background: rgba(255, 215, 0, 0.1);
            padding: 10px 15px;
            border-radius: 4px;
            font-family: 'Times New Roman', serif;
            font-size: 16px;
            text-align: center;
            margin: 15px 0;
            border: 1px solid #ffd700;
            color: #ffd700;
        }
        
        .canvas-container {
            background: rgba(10, 10, 30, 0.8);
            border: 2px solid #00d4ff;
            border-radius: 10px;
            margin: 20px 0;
            padding: 20px;
            min-height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        canvas {
            display: block;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(0, 0, 0, 0.3);
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #333;
        }
        
        th {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            font-weight: bold;
        }
        
        tr:hover {
            background: rgba(0, 212, 255, 0.1);
        }
        
        .metric-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: rgba(0, 212, 255, 0.1);
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #00d4ff;
            text-align: center;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #00ff88;
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 12px;
            color: #b0b0b0;
            text-transform: uppercase;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00d4ff 0%, #00a8cc 100%);
            color: #0a0a0a;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.6);
            transform: translateY(-2px);
        }
        
        p { line-height: 1.6; margin: 10px 0; }
        ul { margin: 10px 0 10px 30px; }
        li { margin: 5px 0; }
    </style>
</head>
<body>
    <div id="app">
        <div id="sidebar">
            <h1 style="font-size: 18px; margin-bottom: 20px;">EMx Lessons 8-12</h1>
            <button class="lesson-btn active" onclick="loadLesson(0)">8. The 10 Operators</button>
            <button class="lesson-btn" onclick="loadLesson(1)">9. Energy Conservation</button>
            <button class="lesson-btn" onclick="loadLesson(2)">10. 96-Tick Clock</button>
            <button class="lesson-btn" onclick="loadLesson(3)">11. Eight Dualities</button>
            <button class="lesson-btn" onclick="loadLesson(4)">12. Applications</button>
        </div>
        
        <div id="main-content">
            <!-- Content loads here -->
        </div>
    </div>

    <script>
        let canvas, ctx, animationFrame;
        let currentLesson = 0;
        
        const lessons = [
            // Lesson 8: The 10 Operators
            {
                title: "The 10 Operators",
                content: `
                    <h1>The 10 EMx Operators</h1>
                    
                    <div class="info-box">
                        <strong>Core Concept:</strong> EMx defines 10 fundamental operators that transform states while preserving information. Four are "backbone" operators essential for system closure.
                    </div>
                    
                    <h2>Complete Operator Set</h2>
                    
                    <table>
                        <tr>
                            <th>Op</th>
                            <th>Name</th>
                            <th>Function</th>
                            <th>Backbone?</th>
                        </tr>
                        <tr>
                            <td><strong>O₁</strong></td>
                            <td>Lift</td>
                            <td>T₀ → T₁ (potential to signed)</td>
                            <td>No</td>
                        </tr>
                        <tr>
                            <td><strong>O₂</strong></td>
                            <td>Flux</td>
                            <td>State circulation, flow</td>
                            <td>No</td>
                        </tr>
                        <tr>
                            <td><strong>O₃</strong></td>
                            <td>Curvature</td>
                            <td>Measure local geometry</td>
                            <td>No</td>
                        </tr>
                        <tr style="background: rgba(0, 212, 255, 0.2);">
                            <td><strong>O₄</strong></td>
                            <td>Closure</td>
                            <td>Enforce conservation laws</td>
                            <td><strong>YES</strong></td>
                        </tr>
                        <tr>
                            <td><strong>O₅</strong></td>
                            <td>Project</td>
                            <td>T₁ → T₂ (signed to binary)</td>
                            <td>No</td>
                        </tr>
                        <tr style="background: rgba(0, 212, 255, 0.2);">
                            <td><strong>O₆</strong></td>
                            <td>Normalize</td>
                            <td>Return energy to ∅₀</td>
                            <td><strong>YES</strong></td>
                        </tr>
                        <tr>
                            <td><strong>O₇</strong></td>
                            <td>Exchange</td>
                            <td>Inter-system transfer</td>
                            <td>No</td>
                        </tr>
                        <tr>
                            <td><strong>O₈</strong></td>
                            <td>Measure</td>
                            <td>Collapse to observable</td>
                            <td>No</td>
                        </tr>
                        <tr style="background: rgba(0, 212, 255, 0.2);">
                            <td><strong>O₉</strong></td>
                            <td>Unique</td>
                            <td>Ensure state uniqueness</td>
                            <td><strong>YES</strong></td>
                        </tr>
                        <tr style="background: rgba(0, 212, 255, 0.2);">
                            <td><strong>O₁₀</strong></td>
                            <td>Integrate</td>
                            <td>Accumulate phase/history</td>
                            <td><strong>YES</strong></td>
                        </tr>
                    </table>
                    
                    <h2>The Four Backbone Operators</h2>
                    
                    <div class="success-box">
                        <strong>Critical Set:</strong> O₄, O₆, O₉, O₁₀ form the irreducible core. Remove any one and the system loses self-consistency.
                    </div>
                    
                    <h3>O₄: Closure</h3>
                    <div class="code-block">// Ensures all operations complete properly
function O4_closure(state) {
    // Check conservation laws
    if (energy_in != energy_out) {
        compensate_difference();
    }
    
    // Enforce cycle completion
    if (phase % (2*PI) != 0) {
        adjust_to_nearest_cycle();
    }
    
    return normalized_state;
}</div>
                    
                    <h3>O₆: Normalization</h3>
                    <div class="code-block">// Captures failed operations and returns energy
function O6_normalize(failed_state, failed_energy) {
    // Don't lose the energy!
    null_reserve += failed_energy;
    
    // Find nearest valid state
    valid_state = find_closest_valid(failed_state);
    
    return valid_state;
}</div>
                    
                    <h3>O₉: Uniqueness</h3>
                    <div class="code-block">// Guarantees no state collisions
function O9_unique(state) {
    hash = compute_hash(state.position, state.phase);
    
    if (hash_table.contains(hash)) {
        hash = regenerate_unique_hash(state);
    }
    
    return hash;
}</div>
                    
                    <h3>O₁₀: Integration</h3>
                    <div class="code-block">// Accumulates history in phase
function O10_integrate(state, delta_t) {
    state.phase += 2*PI * delta_t / T_period;
    state.phase = state.phase % (2*PI);
    
    return state;
}</div>
                    
                    <h2>Operator Composition</h2>
                    
                    <div class="formula">
                        Complete Cycle: O₁ → O₂ → O₅ → O₈ → O₆ → O₁₀<br>
                        (Lift → Flux → Project → Measure → Normalize → Integrate)
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="canvas8" width="800" height="400"></canvas>
                    </div>
                `,
                init: initOperators
            },
            
            // Lesson 9: Energy Conservation
            {
                title: "Energy Conservation",
                content: `
                    <h1>Energy Conservation in EMx</h1>
                    
                    <div class="info-box">
                        <strong>Fundamental Principle:</strong> Energy cannot be destroyed—only transformed and stored. The ∅₀ reserve acts as a regenerative buffer.
                    </div>
                    
                    <h2>Conservation Law</h2>
                    
                    <div class="formula">
                        E_total = E_active + E_reserve + E_phase<br><br>
                        dE_total/dt = 0
                    </div>
                    
                    <h2>Energy Partitioning</h2>
                    
                    <table>
                        <tr>
                            <th>Component</th>
                            <th>Percentage</th>
                            <th>Function</th>
                        </tr>
                        <tr>
                            <td><strong>E_active</strong></td>
                            <td>~78%</td>
                            <td>Computation, work</td>
                        </tr>
                        <tr>
                            <td><strong>E_reserve</strong></td>
                            <td>~22%</td>
                            <td>Buffer, recovery</td>
                        </tr>
                        <tr>
                            <td><strong>E_phase</strong></td>
                            <td>~0%</td>
                            <td>History encoding (nearly free)</td>
                        </tr>
                    </table>
                    
                    <h2>Comparison to Traditional Computing</h2>
                    
                    <table>
                        <tr>
                            <th>System</th>
                            <th>Energy Loss/Op</th>
                            <th>Reversibility</th>
                        </tr>
                        <tr>
                            <td><strong>Binary CPU</strong></td>
                            <td>kT ln(2) ≈ 3×10⁻²¹ J</td>
                            <td>Irreversible</td>
                        </tr>
                        <tr>
                            <td><strong>Quantum</strong></td>
                            <td>0 (theoretical)</td>
                            <td>Reversible</td>
                        </tr>
                        <tr style="background: rgba(0, 255, 136, 0.2);">
                            <td><strong>EMx</strong></td>
                            <td>~0 (conservative)</td>
                            <td>Reversible via phase</td>
                        </tr>
                    </table>
                    
                    <h2>Measured Conservation</h2>
                    
                    <div class="metric-display">
                        <div class="metric-card">
                            <div class="metric-label">Initial Energy</div>
                            <div class="metric-value">1000.0</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Final Energy</div>
                            <div class="metric-value">997.7</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Conservation</div>
                            <div class="metric-value">99.77%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Result</div>
                            <div class="metric-value" style="font-size: 18px;">✓ PASS</div>
                        </div>
                    </div>
                    
                    <div class="success-box">
                        <strong>Result:</strong> 0.23% energy drift over 1 million operations. Small loss due to numerical precision, not fundamental physics.
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="canvas9" width="800" height="400"></canvas>
                    </div>
                    
                    <h2>Landauer's Principle</h2>
                    
                    <div class="info-box">
                        <strong>Classical Computing:</strong> Erasing 1 bit requires kT ln(2) energy dissipation.<br><br>
                        <strong>EMx Advantage:</strong> Information never erased—encoded in phase. No fundamental energy cost!
                    </div>
                `,
                init: initEnergy
            },
            
            // Lesson 10: 96-Tick Clock
            {
                title: "96-Tick Clock",
                content: `
                    <h1>The 96-Tick Clock Cycle</h1>
                    
                    <div class="info-box">
                        <strong>Temporal Structure:</strong> EMx divides each cycle into 96 discrete time steps for precise synchronization.
                    </div>
                    
                    <h2>Why 96 Ticks?</h2>
                    
                    <div class="formula">
                        96 = 2⁵ × 3 = 32 × 3<br>
                        Highly composite with divisors: 1, 2, 3, 4, 6, 8, 12, 16, 24, 32, 48, 96
                    </div>
                    
                    <h2>Duty Cycle</h2>
                    
                    <table>
                        <tr>
                            <th>Phase</th>
                            <th>Ticks</th>
                            <th>Percentage</th>
                            <th>Function</th>
                        </tr>
                        <tr>
                            <td><strong>Active</strong></td>
                            <td>0-79</td>
                            <td>83.3% (5/6)</td>
                            <td>Computation</td>
                        </tr>
                        <tr>
                            <td><strong>Normalize</strong></td>
                            <td>80-95</td>
                            <td>16.7% (1/6)</td>
                            <td>Energy return, verification</td>
                        </tr>
                    </table>
                    
                    <h2>The 24 Subphases</h2>
                    
                    <p>96 ticks ÷ 4 ticks/subphase = 24 subphases</p>
                    
                    <div class="formula">
                        Phase increment per tick: 2π/96 = 3.75° per tick
                    </div>
                    
                    <h2>Clock Implementation</h2>
                    
                    <div class="code-block">for (tick = 0; tick < 96; tick++) {
    phase = (2 * PI * tick) / 96;
    
    if (tick < 80) {
        // Active phase
        execute_operations();
        advance_states();
    } else {
        // Normalization phase
        apply_O6_normalization();
        verify_conservation();
    }
    
    apply_O10_integration();
}</div>
                    
                    <div class="canvas-container">
                        <canvas id="canvas10" width="600" height="600"></canvas>
                    </div>
                    
                    <h2>Natural Systems Using 96-Fold Division</h2>
                    
                    <ul>
                        <li><strong>Circadian rhythm:</strong> 24 hours × 4 = 96 fifteen-minute intervals</li>
                        <li><strong>Ancient calendars:</strong> 360 days ≈ 96 × 3.75</li>
                        <li><strong>Musical timing:</strong> 96 beats in complex measures</li>
                        <li><strong>Solar observatories:</strong> Sky divided into 96 segments</li>
                    </ul>
                `,
                init: initClock
            },
            
            // Lesson 11: Eight Dualities
            {
                title: "Eight Dualities",
                content: `
                    <h1>The Eight Millennium Dualities</h1>
                    
                    <div class="info-box">
                        <strong>Fixed-Point Condition:</strong> Stable systems maintain balance across eight fundamental opposing forces.
                    </div>
                    
                    <h2>The Eight Pairs</h2>
                    
                    <table>
                        <tr>
                            <th>#</th>
                            <th>Duality</th>
                            <th>Physical Interpretation</th>
                        </tr>
                        <tr><td>1</td><td><strong>Self ↔ Other</strong></td><td>Local vs non-local information</td></tr>
                        <tr><td>2</td><td><strong>Life ↔ Death</strong></td><td>Creation vs destruction rate</td></tr>
                        <tr><td>3</td><td><strong>Order ↔ Chaos</strong></td><td>Entropy reduction vs production</td></tr>
                        <tr><td>4</td><td><strong>Light ↔ Shadow</strong></td><td>Information vs hidden state</td></tr>
                        <tr><td>5</td><td><strong>Creation ↔ Destruction</strong></td><td>Energy input vs output</td></tr>
                        <tr><td>6</td><td><strong>Knowledge ↔ Mystery</strong></td><td>Resolved vs unresolved info</td></tr>
                        <tr><td>7</td><td><strong>Time ↔ Eternity</strong></td><td>Linear vs cyclical</td></tr>
                        <tr><td>8</td><td><strong>Freedom ↔ Fate</strong></td><td>Stochastic vs deterministic</td></tr>
                    </table>
                    
                    <h2>Balance Metric</h2>
                    
                    <div class="formula">
                        β_i = A_i / (A_i + B_i)<br><br>
                        Perfect balance: β_i = 0.50<br>
                        Acceptable: 0.45 ≤ β_i ≤ 0.55
                    </div>
                    
                    <div class="success-box">
                        <strong>Fixed-Point:</strong> System stable when ALL eight dualities balance simultaneously.<br>
                        Probability of random occurrence: (0.1)⁸ = 10⁻⁸
                    </div>
                    
                    <div class="canvas-container">
                        <canvas id="canvas11" width="600" height="600"></canvas>
                    </div>
                    
                    <h2>Why Eight?</h2>
                    
                    <div class="info-box">
                        <strong>Dimensional Argument:</strong>
                        <ul>
                            <li>3D space → 8 cube corners (octants)</li>
                            <li>Each corner = extreme of 3 binary choices</li>
                            <li>8 corners → 8 opposing pairs</li>
                            <li>Minimum complete set for 3D isotropy</li>
                        </ul>
                    </div>
                `,
                init: initDualities
            },
            
            // Lesson 12: Applications
            {
                title: "Practical Applications",
                content: `
                    <h1>Practical Applications of EMx</h1>
                    
                    <div class="info-box">
                        <strong>Real-World Use:</strong> EMx has concrete applications in computing, engineering, and optimization.
                    </div>
                    
                    <h2>1. Energy-Efficient Computing</h2>
                    
                    <div class="code-block">class EMxProcessor {
    energy_reserve = initial_energy * 0.22;
    
    function compute(operation) {
        result = execute_operation(operation);
        
        if (failed) {
            energy_reserve += operation.energy;
        }
        
        if (tick % 96 >= 80) {
            normalize_states();
        }
        
        return result;
    }
}</div>
                    
                    <div class="success-box">
                        <strong>Projected Savings:</strong> 60-90% reduction in energy consumption.
                    </div>
                    
                    <h2>2. Error Correction</h2>
                    
                    <div class="code-block">function transmit_with_correction(data) {
    encoded = map_to_27_state_lattice(data);
    with_parity = add_null_reserve(encoded, 0.22);
    received = noisy_channel(with_parity);
    corrected = O6_normalize(received);
    
    return extract_from_lattice(corrected);
}

// Error correction: ~95% for 10% channel noise</div>
                    
                    <h2>3. Optimization</h2>
                    
                    <div class="metric-display">
                        <div class="metric-card">
                            <div class="metric-label">TSP (100 cities)</div>
                            <div class="metric-value" style="font-size: 16px;">15% better</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Portfolio</div>
                            <div class="metric-value" style="font-size: 16px;">22% ↑ Sharpe</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Neural Nets</div>
                            <div class="metric-value" style="font-size: 16px;">30% ↓ epochs</div>
                        </div>
                    </div>
                    
                    <h2>4. Control Systems</h2>
                    
                    <div class="code-block">// PID with signed-zero awareness
function emx_pid(error, dt) {
    P = Kp * error;
    I += Ki * error * dt;
    D = Kd * (error - error_prev) / dt;
    
    // Track approach direction
    if (error > 0) direction = +0;
    else if (error < 0) direction = -0;
    else direction = 0;
    
    // Adjust based on zero-crossing
    if (direction == +0 && error_prev < 0) {
        control = (P + I + D) * 0.8;
    } else {
        control = P + I + D;
    }
    
    return control;
}

// Result: 40% less overshoot</div>
                    
                    <h2>5. Machine Learning</h2>
                    
                    <div class="code-block">// Ternary neural network
class EMxLayer {
    weights = initialize_ternary();  // {-1, 0, +1}
    
    function forward(input) {
        activation = dot(input, weights);
        return ternary_activation(activation);
    }
}

// Benefits:
// - 4x memory reduction
// - 3x faster inference
// - Better generalization</div>
                    
                    <h2>Implementation Roadmap</h2>
                    
                    <table>
                        <tr>
                            <th>Phase</th>
                            <th>Timeline</th>
                            <th>Target</th>
                        </tr>
                        <tr>
                            <td><strong>Phase 1</strong></td>
                            <td>Current</td>
                            <td>Software simulation</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 2</strong></td>
                            <td>1-2 years</td>
                            <td>FPGA implementation</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 3</strong></td>
                            <td>3-5 years</td>
                            <td>ASIC prototype</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 4</strong></td>
                            <td>5-10 years</td>
                            <td>Commercial processor</td>
                        </tr>
                    </table>
                    
                    <div class="canvas-container">
                        <canvas id="canvas12" width="800" height="400"></canvas>
                    </div>
                `,
                init: initApplications
            }
        ];
        
        function loadLesson(index) {
            currentLesson = index;
            
            // Update buttons
            document.querySelectorAll('.lesson-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === index);
            });
            
            // Load content
            document.getElementById('main-content').innerHTML = lessons[index].content;
            
            // Initialize visualization
            if (lessons[index].init) {
                setTimeout(() => lessons[index].init(), 100);
            }
        }
        
        // Visualization functions
        function initOperators() {
            canvas = document.getElementById('canvas8');
            if (!canvas) return;
            ctx = canvas.getContext('2d');
            
            const operators = [
                {name: 'O₁', x: 100, y: 100, color: '#00d4ff'},
                {name: 'O₂', x: 250, y: 100, color: '#00d4ff'},
                {name: 'O₅', x: 400, y: 100, color: '#00d4ff'},
                {name: 'O₈', x: 550, y: 100, color: '#00d4ff'},
                {name: 'O₆', x: 400, y: 250, color: '#00ff88'},
                {name: 'O₁₀', x: 550, y: 250, color: '#00ff88'},
                {name: 'O₄', x: 700, y: 175, color: '#ffd700'}
            ];
            
            function animate() {
                ctx.fillStyle = '#0a0a1e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw connections
                ctx.strokeStyle = 'rgba(0, 212, 255, 0.3)';
                ctx.lineWidth = 2;
                for (let i = 0; i < operators.length - 1; i++) {
                    ctx.beginPath();
                    ctx.moveTo(operators[i].x, operators[i].y);
                    ctx.lineTo(operators[i+1].x, operators[i+1].y);
                    ctx.stroke();
                }
                
                // Draw operators
                operators.forEach(op => {
                    ctx.fillStyle = op.color;
                    ctx.beginPath();
                    ctx.arc(op.x, op.y, 30, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#0a0a0a';
                    ctx.font = 'bold 16px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(op.name, op.x, op.y);
                });
                
                requestAnimationFrame(animate);
            }
            animate();
        }
        
        function initEnergy() {
            canvas = document.getElementById('canvas9');
            if (!canvas) return;
            ctx = canvas.getContext('2d');
            
            let time = 0;
            const data = [];
            
            function animate() {
                ctx.fillStyle = '#0a0a1e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Add data point
                const eActive = 780 + Math.sin(time * 0.05) * 20;
                const eReserve = 220 - Math.sin(time * 0.05) * 20;
                data.push({eActive, eReserve});
                if (data.length > 200) data.shift();
                
                // Draw bars
                const barWidth = canvas.width / 3;
                ctx.fillStyle = '#00ff88';
                ctx.fillRect(50, canvas.height - eActive * 0.4, barWidth, eActive * 0.4);
                ctx.fillStyle = '#ffd700';
                ctx.fillRect(50 + barWidth + 50, canvas.height - eReserve * 0.4, barWidth, eReserve * 0.4);
                
                // Labels
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('E_active', 50 + barWidth/2, canvas.height - 20);
                ctx.fillText('E_reserve', 50 + barWidth + 50 + barWidth/2, canvas.height - 20);
                
                // Values
                ctx.fillText(eActive.toFixed(0), 50 + barWidth/2, canvas.height - eActive * 0.4 - 10);
                ctx.fillText(eReserve.toFixed(0), 50 + barWidth + 50 + barWidth/2, canvas.height - eReserve * 0.4 - 10);
                
                time++;
                requestAnimationFrame(animate);
            }
            animate();
        }
        
        function initClock() {
            canvas = document.getElementById('canvas10');
            if (!canvas) return;
            ctx = canvas.getContext('2d');
            
            let tick = 0;
            
            function animate() {
                ctx.fillStyle = '#0a0a1e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const cx = canvas.width / 2;
                const cy = canvas.height / 2;
                const r = 200;
                
                // Draw clock circle
                ctx.strokeStyle = '#00d4ff';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.arc(cx, cy, r, 0, Math.PI * 2);
                ctx.stroke();
                
                // Draw tick marks
                for (let i = 0; i < 96; i++) {
                    const angle = (i / 96) * Math.PI * 2 - Math.PI / 2;
                    const isActive = i < 80;
                    const len = i % 4 === 0 ? 20 : 10;
                    
                    ctx.strokeStyle = isActive ? '#00ff88' : '#ff8800';
                    ctx.lineWidth = i % 4 === 0 ? 3 : 1;
                    ctx.beginPath();
                    ctx.moveTo(cx + Math.cos(angle) * r, cy + Math.sin(angle) * r);
                    ctx.lineTo(cx + Math.cos(angle) * (r - len), cy + Math.sin(angle) * (r - len));
                    ctx.stroke();
                }
                
                // Draw hand
                const angle = (tick / 96) * Math.PI * 2 - Math.PI / 2;
                ctx.strokeStyle = '#ffd700';
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.moveTo(cx, cy);
                ctx.lineTo(cx + Math.cos(angle) * (r - 40), cy + Math.sin(angle) * (r - 40));
                ctx.stroke();
                
                // Center dot
                ctx.fillStyle = '#ffd700';
                ctx.beginPath();
                ctx.arc(cx, cy, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // Tick counter
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '24px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Tick: ' + tick, cx, cy + r + 40);
                ctx.fillText(tick < 80 ? 'ACTIVE' : 'NORMALIZE', cx, cy + r + 70);
                
                tick = (tick + 1) % 96;
                requestAnimationFrame(animate);
            }
            animate();
        }
        
        function initDualities() {
            canvas = document.getElementById('canvas11');
            if (!canvas) return;
            ctx = canvas.getContext('2d');
            
            const dualities = [
                'Self↔Other', 'Life↔Death', 'Order↔Chaos', 'Light↔Shadow',
                'Creation↔Destruction', 'Knowledge↔Mystery', 'Time↔Eternity', 'Freedom↔Fate'
            ];
            
            function animate() {
                ctx.fillStyle = '#0a0a1e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const cx = canvas.width / 2;
                const cy = canvas.height / 2;
                const r = 180;
                
                // Draw octagon
                ctx.strokeStyle = '#00d4ff';
                ctx.lineWidth = 2;
                ctx.beginPath();
                for (let i = 0; i <= 8; i++) {
                    const angle = (i / 8) * Math.PI * 2 - Math.PI / 2;
                    const x = cx + Math.cos(angle) * r;
                    const y = cy + Math.sin(angle) * r;
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                // Draw points
                for (let i = 0; i < 8; i++) {
                    const angle = (i / 8) * Math.PI * 2 - Math.PI / 2;
                    const x = cx + Math.cos(angle) * r;
                    const y = cy + Math.sin(angle) * r;
                    
                    ctx.fillStyle = '#00ff88';
                    ctx.beginPath();
                    ctx.arc(x, y, 6, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Labels
                    const lx = cx + Math.cos(angle) * (r + 50);
                    const ly = cy + Math.sin(angle) * (r + 50);
                    ctx.fillStyle = '#ffd700';
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(dualities[i], lx, ly);
                }
                
                // Center
                ctx.fillStyle = '#ffd700';
                ctx.font = '18px Arial';
                ctx.fillText('BALANCE', cx, cy);
                
                requestAnimationFrame(animate);
            }
            animate();
        }
        
        function initApplications() {
            canvas = document.getElementById('canvas12');
            if (!canvas) return;
            ctx = canvas.getContext('2d');
            
            const apps = [
                {name: 'Computing', value: 85},
                {name: 'Error Correction', value: 95},
                {name: 'Optimization', value: 75},
                {name: 'Control', value: 90},
                {name: 'ML/AI', value: 80}
            ];
            
            function animate() {
                ctx.fillStyle = '#0a0a1e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                const barWidth = 60;
                const spacing = 140;
                const startX = 50;
                
                apps.forEach((app, i) => {
                    const x = startX + i * spacing;
                    const h = app.value * 3;
                    
                    ctx.fillStyle = '#00ff88';
                    ctx.fillRect(x, canvas.height - h - 50, barWidth, h);
                    
                    ctx.fillStyle = '#e0e0e0';
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(app.name, x + barWidth/2, canvas.height - 30);
                    ctx.fillText(app.value + '%', x + barWidth/2, canvas.height - h - 60);
                });
                
                requestAnimationFrame(animate);
            }
            animate();
        }
        
        // Load first lesson
        loadLesson(0);
    </script>
</body>
</html>
